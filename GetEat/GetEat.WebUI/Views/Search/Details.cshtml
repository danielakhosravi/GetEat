@model DomainModel.Entities.Restourant

@{
    ViewBag.Title = "Details";
}
<div class="container-fluid">
    <div class="logbackground center-content">
        <div class="container">
            <div class="wrap">
                <p class="back-btn">@Html.ActionLink("Back to List", "Index")</p>
            </div>

            <!-- Trigger the modal with a button -->
            <!-- Modal -->
            <div class="modal fade" id="myModal" role="dialog">
                <div class="modal-dialog">

                    <!-- Modal content-->
                    <div class="modal-content text-center">
                        <div class="modal-header ">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Book your table now</h4>
                        </div>
                        <div class="modal-body">

                            <p>Make reservation.</p>
                            <div class="holder-input">
                                <div class="form-group">
                                    <select class="selectpicker form-control">
                                        <option value="1">1 person</option>
                                        <option value="2">2 people</option>
                                        <option value="3">3 people</option>
                                        <option value="4">4 people</option>
                                        <option value="5">5 people</option>
                                        <option value="6">6 people</option>
                                        <option value="7" selected="selected">7 people</option>
                                        <option value="8">8 people</option>
                                        <option value="9">9 people</option>
                                        <option value="10">10 people</option>
                                        <option value="11">11 people</option>
                                        <option value="12">12 people</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <div class='input-group datepicker' id='datetimepicker1'>
                                        <input type='text' class="form-control" />
                                        <span class="input-group-addon">
                                            <span class="glyphicon glyphicon-calendar"></span>
                                        </span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="input-group timepicker">
                                        <input id="timepicker2" type="text" class="form-control ">
                                        <span class="input-group-addon">
                                            <i class="glyphicon glyphicon-time"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div class="modal-footer">
                                <button type="submit" class="btn popupBtn" data-dismiss="modal">Reserv</button>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="row">
                <div class="col-md-6 center-content">
                    <div class="review">
                        <div class="restorant">
                            <div class="text-center">
                                <h3>Raffy Bar & Gelato Park</h3>
                                <div class="form-group">
                                    @if (User.Identity.IsAuthenticated)
                                    {
                                        <div>
                                            <button type="button" class="book" data-toggle="modal" data-target="#myModal">book table here</button>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="loginbtn">
                                            <ul class="list-inline">
                                                <li><p>You have to </p></li>
                                                <li class="back-btn"><a class="logForm" href="/Account/Login" id="loginLink">Log in</a></li>
                                                <li><p> to book restourant</p></li>
                                            </ul>
                                        </div>
                                    }

                                    <div id="rating">
                                        <ul class="stars">
                                            @{
                                                var score = Model.Reviews.Count > 0 ? Model.Reviews.Average(x => x.Score) : 0;
                                            }
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                if (score >= i)
                                                {
                                                    <li class="raiting-star active">★</li>
                                                }
                                                else
                                                {
                                                    <li class="raiting-star">★</li>
                                                }
                                            }

                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="middle">
                                <span class="glyphicon glyphicon-map-marker info"><strong> Location: </strong> Simeonovsko shose bul.</span>
                                <span class="glyphicon glyphicon-cutlery info"><strong> Cuisine: </strong> Sushi, Fish, Seafood</span>
                            </div>
                        </div>

                        <article class="overview">
                            <h4 class="text-center">Introduction</h4>
                            <p>
                                The menu at Raffy offers a selection of exciting dishes cooked with the most seasonal of ingredients. Dishes including fish and seafood classics are served with modern flair, in a warm and relaxed atmosphere. Elsewhere on the menu, find rustic meat dishes and a selection of moreish sharing platters.
                                An extensive wine list is on hand to complement the food, with a carefully chosen selection of Italian bottles.
                            </p>
                        </article>
                        @*<p>
                                @Model.Organisation.Name
                                @Model.Description
                                @Model.Name
                                @Model.Address.Neighborhood
                                @Model.Address.Street
                                @Model.Address.Number
                                @Model.Address.City
                                @Model.Address.Country
                            </p>*@
                    </div>
                </div>
                <div class="col-md-6 center-content">
                    <div class="review">
                        <div id="myCarousel" class="carousel slide" data-ride="carousel">
                            <!-- Indicators -->
                            <ol class="carousel-indicators">
                                <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                                <li data-target="#myCarousel" data-slide-to="1"></li>
                                <li data-target="#myCarousel" data-slide-to="2"></li>
                                <li data-target="#myCarousel" data-slide-to="3"></li>
                                <li data-target="#myCarousel" data-slide-to="4"></li>
                                <li data-target="#myCarousel" data-slide-to="5"></li>
                            </ol>

                            <!-- Wrapper for slides -->
                            <div class="carousel-inner" role="listbox">

                                <div class="item active">
                                    <img  src="~/Content/images/rgalery.jpg" alt="">
                                </div>
                              

                                <div class="item">
                                    <img src="~/Content/images/raffi.jpg" alt="">
                                </div>
                                

                                <div class="item">
                                    <img  src="~/Content/images/res.jpg" alt="">
                                </div>
                              

                                <div class="item">
                                    <img src="~/Content/images/rafgar.jpg" alt="">
                                </div>
                                <div class="item">
                                    <img src="~/Content/images/raffig.jpg" alt="">
                                </div>
                                <div class="item">
                                    <img src="~/Content/images/rafgal.jpg" alt="">
                                </div>
                            </div>
                          

                            <!-- Left and right controls -->
                            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col map" id="map"></div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="comment-box">
                        <h3>Reviews</h3>

                            @if (User.Identity.IsAuthenticated)
                            {
                                @Html.Partial("~/Views/Reviews/Create.cshtml", new ReviewViewModel() { RestourantId = Model.Id })
                            }
                            else
                            {
                                <div>
                                    <ul class="list-inline">
                                        <li><p class="comment">You have to </p></li>
                                        <li class="back-btn"><a class="logForm" href="/Account/Login" id="loginLink">Log in</a></li>
                                        <li><p>to write comment.</p></li>
                                    </ul>
                                </div>
                            }

                            @Html.Action("Index", "Reviews", new { id = Model.Id })
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script type="text/javascript" src="~/Scripts/geteat/home.js"></script>
    <script>
        function mapInitialise() {
            var mapOptions = {
                center: new google.maps.LatLng(42.631011, 23.333508),
                zoom: 18,
                mapTypeId: google.maps.MapTypeId.satellite
            }
            var map = new google.maps.Map(document.getElementById("map"), mapOptions);
        }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?callback=mapInitialise&key=AIzaSyACtwzGqclUR7OIYSgdQDfQg2G03YDoass"></script>

}
